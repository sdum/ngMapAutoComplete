!function(){"use strict";function a(){return{restrict:"AE",require:"^map",link:function(a,b,c){function d(){var b=g.getPlace();if(angular.isDefined(b.name)&&_.isString(b.name)){var c=new google.maps.places.AutocompleteService;c.getPlacePredictions({input:b.name},function(b,c){if("OK"===c&&b.length>0){var d=new google.maps.places.PlacesService(a.map);d.getDetails({placeId:b[0].place_id},function(b,c){"OK"===c&&(angular.isDefined(b.geometry.viewport)?a.map.fitBounds(b.geometry.viewport):(a.map.setCenter(b.geometry.location),a.map.setZoom(12)))})}})}else a.map.fitBounds(g.getPlace().geometry.viewport)}function e(){var b=_.isString(c.placeholder)?c.placeholder:"Type a place here...",e=_.isString(c.position)?c.position:google.maps.ControlPosition.TOP_LEFT;f=angular.element("<input>").attr("type","text").addClass("form-control").addClass("input-sm").css("width","300px").css("marginTop","5px").attr("placeholder",b),a.map.controls[e].push(f[0]),g=new google.maps.places.Autocomplete(f[0],{}),google.maps.event.addDomListener(g,"place_changed",d)}var f,g;a.$parent.$on("mapInitialized",function(b,c){a.map=c,e()}),c.$observe("placeholder",function(a){_.isString(a)&&angular.isDefined(f)&&f.attr("placeholder",a)})}}}var b=angular.module("ngMapAutocomplete",["ngMap"]);b.directive("mapAutocomplete",a)}();